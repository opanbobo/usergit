{"ast":null,"code":"var _jsxFileName = \"/Applications/html/usergit/src/context/github/GithubState.js\";\nimport React, { useReducer, useEffect } from 'react';\nimport GithubContext from './GithubContext';\nimport GithubReducer from './GithubReducer';\nimport axios from 'axios';\nimport { SHOW_USERS, SEARCH_USERS, SET_LOADING, CLEAR_USERS, GET_USER, GET_REPOS } from '../type';\nlet gitHubClientId, gitHubClientSecret;\n\nif (process.env.NODE_ENV === 'production') {\n  gitHubClientId = process.env.ID;\n  gitHubClientSecret = process.env.SECRETS;\n} else {\n  gitHubClientId = process.env.REACT_APP_ID;\n  gitHubClientSecret = process.env.REACT_APP_SECRETS;\n}\n\nconst GithubState = props => {\n  const initialState = {\n    users: [],\n    user: {},\n    repos: [],\n    loading: false\n  };\n  const [state, dispatch] = useReducer(GithubReducer, initialState); //showUsers\n\n  useEffect(() => {\n    (async () => {\n      setLoading();\n      let res = await axios.get('https://api.github.com/users');\n      dispatch({\n        type: SHOW_USERS,\n        payload: res.data\n      });\n    })(); //eslint-disable-next-line\n\n  }, []); //searchUsers\n\n  const searchUser = async text => {\n    setLoading();\n    const res = await axios.get(`https://api.github.com/search/users?q=${text}&client_id=${gitHubClientId}&client_secret=${gitHubClientSecret}`);\n    dispatch({\n      type: SEARCH_USERS,\n      payload: res.data.items\n    });\n  }; //getIndividualUser\n\n\n  const getUser = async username => {\n    setLoading();\n\n    try {\n      const res = await axios.get(`https://api.github.com/users/${username}?client_id=${gitHubClientId}&client_secret=${gitHubClientSecret}`);\n      dispatch({\n        type: GET_USER,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }; //getRepos\n  // const getRepos = async username => {\n  //     setLoading();\n  //     try {\n  //         const res = await axios.get(\n  //             `https://api.github.com/users/${username}/repos?per_page=10&sort=created:asc&client_id=${gitHubClientId}&client_secret=${gitHubClientSecret}`\n  //         );\n  //         dispatch({\n  //             type: GET_REPOS,\n  //             payload: res.data\n  //         })\n  //     } catch (error) {\n  //         console.log(error.message)\n  //     }\n  // }\n  //clearUsers\n\n\n  const clearUsers = () => dispatch({\n    type: CLEAR_USERS\n  });\n\n  const setLoading = () => dispatch({\n    type: SET_LOADING\n  });\n\n  return /*#__PURE__*/React.createElement(GithubContext.Provider, {\n    value: {\n      users: state.users,\n      user: state.user,\n      repos: state.repos,\n      loading: state.loading,\n      searchUser,\n      clearUsers,\n      getUser,\n      getRepos\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default GithubState;","map":{"version":3,"names":["React","useReducer","useEffect","GithubContext","GithubReducer","axios","SHOW_USERS","SEARCH_USERS","SET_LOADING","CLEAR_USERS","GET_USER","GET_REPOS","gitHubClientId","gitHubClientSecret","process","env","NODE_ENV","ID","SECRETS","REACT_APP_ID","REACT_APP_SECRETS","GithubState","props","initialState","users","user","repos","loading","state","dispatch","setLoading","res","get","type","payload","data","searchUser","text","items","getUser","username","error","console","log","message","clearUsers","getRepos","children"],"sources":["/Applications/html/usergit/src/context/github/GithubState.js"],"sourcesContent":["import React, { useReducer, useEffect } from 'react';\nimport GithubContext from './GithubContext';\nimport GithubReducer from './GithubReducer';\nimport axios from 'axios';\nimport {\n    SHOW_USERS,\n    SEARCH_USERS,\n    SET_LOADING,\n    CLEAR_USERS,\n    GET_USER,\n    GET_REPOS\n} from '../type';\n\nlet gitHubClientId,\n    gitHubClientSecret;\n\nif (process.env.NODE_ENV === 'production') {\n    gitHubClientId = process.env.ID;\n    gitHubClientSecret = process.env.SECRETS;\n} else {\n    gitHubClientId = process.env.REACT_APP_ID;\n    gitHubClientSecret = process.env.REACT_APP_SECRETS;\n}\n\nconst GithubState = props => {\n    const initialState = {\n        users: [],\n        user: {},\n        repos: [],\n        loading: false\n    }\n\n    const [state, dispatch] = useReducer(GithubReducer, initialState);\n\n    //showUsers\n    useEffect(() => {\n        (async () => {\n            setLoading();\n            let res = await axios.get('https://api.github.com/users');\n            dispatch({\n                type: SHOW_USERS,\n                payload: res.data\n            })\n        })();\n        //eslint-disable-next-line\n    }, [])\n\n    //searchUsers\n    const searchUser = async text => {\n        setLoading();\n\n        const res = await axios.get(`https://api.github.com/search/users?q=${text}&client_id=${gitHubClientId}&client_secret=${gitHubClientSecret}`);\n        \n        dispatch({\n            type: SEARCH_USERS,\n            payload: res.data.items\n        });\n    }\n\n    //getIndividualUser\n    const getUser = async username => {\n        setLoading();\n        try {\n            const res = await axios.get(\n                `https://api.github.com/users/${username}?client_id=${gitHubClientId}&client_secret=${gitHubClientSecret}`\n            );\n            dispatch({\n                type: GET_USER,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error.message)\n        }\n    }\n\n    //getRepos\n    // const getRepos = async username => {\n    //     setLoading();\n    //     try {\n    //         const res = await axios.get(\n    //             `https://api.github.com/users/${username}/repos?per_page=10&sort=created:asc&client_id=${gitHubClientId}&client_secret=${gitHubClientSecret}`\n    //         );\n    //         dispatch({\n    //             type: GET_REPOS,\n    //             payload: res.data\n    //         })\n    //     } catch (error) {\n    //         console.log(error.message)\n    //     }\n    // }\n\n    //clearUsers\n    const clearUsers = () => dispatch({ type: CLEAR_USERS });\n\n    const setLoading = () => dispatch({ type: SET_LOADING });\n\n    return (\n        <GithubContext.Provider\n            value={{\n                users: state.users,\n                user: state.user,\n                repos: state.repos,\n                loading: state.loading,\n                searchUser,\n                clearUsers,\n                getUser,\n                getRepos\n            }}\n        >\n            {props.children}\n        </GithubContext.Provider>\n    )\n}\n\nexport default GithubState;"],"mappings":"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"},"metadata":{},"sourceType":"module"}